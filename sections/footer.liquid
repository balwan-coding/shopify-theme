{% comment %}
  Section: Footer
{% endcomment %}

<footer class="site-footer" role="contentinfo">
  <div class="container">
    <div class="footer-grid">
      <div>
        <div class="footer-brand__logo">{{ shop.name }}</div>
        <p class="footer-brand__desc">{{ section.settings.brand_desc | default: 'Curated collections for those who appreciate quality and timeless style.' }}</p>
        <div class="social-links" aria-label="Social media">
          {%- assign instagram_url = section.settings.instagram_url | default: settings.social_instagram_url -%}
          {%- assign facebook_url = section.settings.facebook_url | default: settings.social_facebook_url -%}
          {%- assign twitter_url = section.settings.twitter_url | default: settings.social_twitter_url -%}
          {%- assign tiktok_url = section.settings.tiktok_url | default: settings.social_tiktok_url -%}
          {%- if instagram_url != blank -%}
            <a href="{{ instagram_url }}" class="social-link" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" style="width:18px;height:18px"><rect x="2" y="2" width="20" height="20" rx="5"/><circle cx="12" cy="12" r="4"/><circle cx="17.5" cy="6.5" r="0.5" fill="currentColor"/></svg>
            </a>
          {%- endif -%}
          {%- if facebook_url != blank -%}
            <a href="{{ facebook_url }}" class="social-link" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
              <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="width:18px;height:18px"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
            </a>
          {%- endif -%}
          {%- if twitter_url != blank -%}
            <a href="{{ twitter_url }}" class="social-link" target="_blank" rel="noopener noreferrer" aria-label="X / Twitter">
              <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="width:18px;height:18px"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231z"/></svg>
            </a>
          {%- endif -%}
          {%- if tiktok_url != blank -%}
            <a href="{{ tiktok_url }}" class="social-link" target="_blank" rel="noopener noreferrer" aria-label="TikTok">
              <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="width:18px;height:18px"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.77 0 2.89 2.89 0 0 1 2.89-2.89c.28 0 .54.04.79.1V9.01a6.34 6.34 0 0 0-6.34 6.34 6.34 6.34 0 0 0 12.67 0V8.69a8.27 8.27 0 0 0 4.84 1.55V6.79a4.85 4.85 0 0 1-1.86-.1z"/></svg>
            </a>
          {%- endif -%}
        </div>
      </div>

      {%- for block in section.blocks -%}
        <div {{ block.shopify_attributes }}>
          <h3 class="footer-nav__title">{{ block.settings.title }}</h3>
          {%- if block.settings.menu != blank -%}
            <ul class="footer-nav__list" role="list">
              {%- for link in block.settings.menu.links -%}
                <li><a href="{{ link.url }}" class="footer-nav__link">{{ link.title }}</a></li>
              {%- endfor -%}
            </ul>
          {%- endif -%}
        </div>
      {%- endfor -%}
    </div>
  </div>

  <div class="footer-bottom">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--space-4)">
      <p class="footer-bottom__copy">
        &copy; {{ 'now' | date: '%Y' }} {{ shop.name }}. All rights reserved.
        {%- if section.settings.show_powered_by -%}
          &nbsp; Powered by <a href="https://www.shopify.com" target="_blank" rel="noopener noreferrer" style="color:rgba(255,255,255,0.5)">Shopify</a>
        {%- endif -%}
      </p>

      <!-- Payment Icons -->
      <div class="payment-methods" aria-label="Payment methods accepted">
        {%- for type in shop.enabled_payment_types -%}
          {{ type | payment_type_svg_tag: class: 'payment-method' }}
        {%- endfor -%}
      </div>
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Footer logo"
    },
    {
      "type": "text",
      "id": "brand_desc",
      "label": "Brand description",
      "default": "Curated collections for those who appreciate quality and timeless style."
    },
    {
      "type": "url",
      "id": "instagram_url",
      "label": "Instagram URL"
    },
    {
      "type": "url",
      "id": "facebook_url",
      "label": "Facebook URL"
    },
    {
      "type": "url",
      "id": "twitter_url",
      "label": "X (Twitter) URL"
    },
    {
      "type": "url",
      "id": "tiktok_url",
      "label": "TikTok URL"
    },
    {
      "type": "checkbox",
      "id": "show_powered_by",
      "default": true,
      "label": "Show 'Powered by Shopify'"
    }
  ],
  "blocks": [
    {
      "type": "nav",
      "name": "Navigation column",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Column title",
          "default": "Menu"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Navigation menu"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Footer",
      "blocks": [
        { "type": "nav" },
        { "type": "nav" },
        { "type": "nav" }
      ]
    }
  ]
}
{% endschema %}
