{% comment %}
  Section: Main List Collections
  Collections listing page
{% endcomment %}

<div class="section">
  <div class="container">
    <div class="section-header anim-fade-up" style="margin-bottom:var(--space-12)">
      <h1>{{ section.settings.title | default: 'Collections' }}</h1>
      {%- if section.settings.subtitle != blank -%}
        <p>{{ section.settings.subtitle }}</p>
      {%- endif -%}
    </div>

    <div class="grid grid-3" data-stagger="0.1">
      {%- for collection in collections -%}
        {%- unless collection.handle == 'frontpage' -%}
          <a href="{{ collection.url }}" class="collection-card anim-fade-up" style="display:block;border-radius:var(--radius-lg);overflow:hidden;border:1px solid var(--color-border);background:var(--color-bg);transition:all var(--transition-base)">
            <div style="aspect-ratio:4/3;overflow:hidden;background:var(--color-bg-2)">
              {%- if collection.featured_image -%}
                {{ collection.featured_image | image_url: width: 600 | image_tag: loading: 'lazy', sizes: '(max-width:768px) 100vw, 33vw', widths: '300, 400, 600', style: 'width:100%;height:100%;object-fit:cover' }}
              {%- else -%}
                {{ 'collection-1' | placeholder_svg_tag: 'placeholder-svg' }}
              {%- endif -%}
            </div>
            <div style="padding:var(--space-6)">
              <h3 style="font-size:var(--text-xl);margin-bottom:var(--space-2)">{{ collection.title }}</h3>
              <p style="font-size:var(--text-sm);color:var(--color-text-muted)">{{ collection.products_count }} {{ collection.products_count | pluralize: 'product', 'products' }}</p>
            </div>
          </a>
        {%- endunless -%}
      {%- endfor -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "List Collections",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Collections"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle"
    }
  ]
}
{% endschema %}
